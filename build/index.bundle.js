(()=>{"use strict";var e={m:{},u:e=>e+".bundle.js"};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),e.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var r=e.g.document;if(!t&&r&&(r.currentScript&&(t=r.currentScript.src),!t)){var n=r.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!t;)t=n[o--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})(),e.b=document.baseURI||self.location.href;var t=ace.edit("editor");t.setTheme("ace/theme/vibrant_ink"),t.getSession().setMode("ace/mode/python"),t.setFontSize(18);let r=new SharedArrayBuffer(100*Int32Array.BYTES_PER_ELEMENT),n=new Int32Array(r);var o=!0;let a;const l=document.getElementById("run"),c=document.getElementById("theme"),i=document.getElementById("terminal");let s=null;function d(){s=new Worker(new URL(e.p+e.u(736),e.b)),s.addEventListener("message",(e=>{if(e.data.err)s.terminate(),i.value="",i.value="Timeout error";else if("stdin"===e.data.type){clearInterval(a);let e=prompt("Input"),t=1;n[0]>0&&(t=n[0]);const r=(new TextEncoder).encode(e);r.forEach(((e,r)=>{n[t+r]=e})),n[0]=t+r.length-1,Atomics.notify(n,0,1),a=setTimeout((()=>{s.terminate(),d(),console.log("terminated"),clearInterval(a)}),5e3)}else"error"===e.data.type?(clearInterval(a),i.value+=e.data.text):i.value+=e.data.text}))}window.onload=()=>{d(),l.addEventListener("click",(()=>{clearInterval(a),console.log("worker",s),i.value="";var e=t.getValue();n[0]=-1,s.postMessage({type:"run",buffer:r,code:e}),a=setTimeout((()=>{s.terminate(),d(),clearInterval(a),console.log("terminated")}),5e3)})),c.addEventListener("click",(()=>{!0===o?(t.setTheme("ace/theme/chrome"),t.getSession().setMode("ace/mode/python"),t.setFontSize(18),i.style.background="white",i.style.color="black",o=!1):(t.setTheme("ace/theme/vibrant_ink"),t.getSession().setMode("ace/mode/python"),t.setFontSize(18),i.style.background="black",i.style.color="white",o=!0)})),l.removeAttribute("disabled")}})();